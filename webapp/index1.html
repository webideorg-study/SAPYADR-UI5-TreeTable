<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
  <title>Selection Screen Table Sample</title>
  <!-- 1.) Load SAPUI5 (from a remote server), select theme and control library -->
  <script id="sap-ui-bootstrap" src="https://sapui5.hana.ondemand.com/resources/sap-ui-core.js" data-sap-ui-theme="sap_bluecrystal" data-sap-ui-libs="sap.ui.commons,sap.m,sap.ui.unified,sap.ui.table" data-sap-ui-xx-bindingSyntax="complex"></script>

  <!-- 2.) Create a UI5 button and place it onto the page -->
  <script>
	var data = [
	{
	    "text": "Chocolate Beverage",
	    "id": "1",
	    "parentid": "-1"
	}, {
	    "id": "2",
	    "parentid": "1",
	    "text": "Hot Chocolate"
	}, {
	    "id": "3",
	    "parentid": "1",
	    "text": "Peppermint Hot Chocolate"
	}, {
	    "id": "4",
	    "parentid": "1",
	    "text": "Salted Caramel Hot Chocolate"
	}, {
	    "id": "5",
	    "parentid": "1",
	    "text": "White Hot Chocolate"
	}, {
	    "id": "6",
	    "text": "Espresso Beverage",
	    "parentid": "-1"
	}, {
	    "id": "7",
	    "parentid": "6",
	    "text": "Caffe Americano"
	}, {
	    "id": "8",
	    "text": "Caffe Latte",
	    "parentid": "6"
	}, {
	    "id": "9",
	    "text": "Caffe Mocha",
	    "parentid": "6"
	}, {
	    "id": "10",
	    "text": "Cappuccino",
	    "parentid": "6"
	}, {
	    "id": "11",
	    "text": "Pumpkin Spice Latte",
	    "parentid": "6"
	}, {
	    "id": "12",
	    "text": "Frappuccino",
	    "parentid": "-1"
	}, {
	    "id": "13",
	    "text": "Caffe Vanilla Frappuccino",
	    "parentid": "12"
	}, {
	    "id": "15",
	    "text": "450 calories",
	    "parentid": "13"
	}, {
	    "id": "16",
	    "text": "16g fat",
	    "parentid": "13"
	}, {
	    "id": "17",
	    "text": "13g protein",
	    "parentid": "13"
	}, {
	    "id": "14",
	    "text": "Caffe Vanilla Frappuccino Light",
	    "parentid": "12"
	}];
	
	var builddata = function () {
	    var source = [];
	    var items = [];
	    // build hierarchical source.
	    for (i = 0; i < data.length; i++) {
	        var item = data[i];
	        
	        var id = item["id"];
	        var text = item["text"];
	        var parentid = item["parentid"];
	
	        if (items[parentid]) {
	            //var item = { parentid: parentid, text: text, item: item };
	            var item = {id: id, text: text, parentid: parentid};
	            if (!items[parentid].items) {
	                items[parentid].items = [];
	            }
	            items[parentid].items[items[parentid].items.length] = item;
	            items[id] = item;
	        }
	        else {
	            //items[id] = { parentid: parentid, text: text, item: item };
	            items[id] = { id: id, text: text, parentid: parentid };
	            source[id] = items[id];
	        }
	    }
	    return source;
	};
	
	var source = builddata();
	console.log(source);
	//create jqxTree
	//$('#content').jqxTree({ source: source, width: '350px' });
  </script>
</head>

<body class="sapUiBody">

  <!-- This is where you place the UI5 button -->
  <div id="content"></div>
</body>

</html>